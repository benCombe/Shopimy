<div class="themes-container" [class.inline-mode]="inlineMode">
  <div *ngIf="!inlineMode" class="themes-header">
    <h2>Theme Settings</h2>
    <p class="description">Choose colors and fonts to match your brand identity.</p>
  </div>

  <!-- Tabs -->
  <div class="tabs">
    <div class="tab" [class.active]="activeTab === 'select-theme'" (click)="setActiveTab('select-theme')">
      Select Theme
    </div>
    <div class="tab" [class.active]="activeTab === 'customize'" (click)="setActiveTab('customize')">
      Customize
    </div>
  </div>
  
  <!-- Select Theme Tab -->
  <div *ngIf="activeTab === 'select-theme'">
    <div class="theme-swatches">
      <div *ngFor="let theme of themeSwatches" 
           class="theme-swatch" 
           [class.selected]="selectedTheme === theme.name"
           (click)="selectTheme(theme)">
        <div class="swatch-header" [style.background-color]="theme.mainColor">
          {{ theme.name }}
        </div>
        <div class="swatch-colors">
          <div class="swatch-color" [style.background-color]="theme.mainColor"></div>
          <div class="swatch-color" [style.background-color]="theme.secondColor"></div>
          <div class="swatch-color" [style.background-color]="theme.thirdColor"></div>
        </div>
      </div>
      
      <!-- Custom Theme Option -->
      <div class="theme-swatch" 
           [class.selected]="selectedTheme === 'Custom Theme'"
           (click)="selectTheme(customTheme)">
        <div class="swatch-header" [style.background-color]="customTheme.mainColor">
          Custom Theme
        </div>
        <div class="swatch-colors">
          <div class="swatch-color" [style.background-color]="customTheme.mainColor"></div>
          <div class="swatch-color" [style.background-color]="customTheme.secondColor"></div>
          <div class="swatch-color" [style.background-color]="customTheme.thirdColor"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- Customize Tab -->
  <div *ngIf="activeTab === 'customize'" class="theme-editor">
    <div class="color-section">
      <h3>Color Palette</h3>
      <div class="color-inputs">
        <div class="color-input">
          <label for="mainColor">Primary Color</label>
          <input 
            type="color" 
            id="mainColor" 
            name="mainColor" 
            [(ngModel)]="customTheme.mainColor" 
            (ngModelChange)="updateCustomTheme()"
          >
          <span class="color-value">{{ customTheme.mainColor }}</span>
        </div>

        <div class="color-input">
          <label for="secondColor">Secondary Color</label>
          <input 
            type="color" 
            id="secondColor" 
            name="secondColor" 
            [(ngModel)]="customTheme.secondColor" 
            (ngModelChange)="updateCustomTheme()"
          >
          <span class="color-value">{{ customTheme.secondColor }}</span>
        </div>

        <div class="color-input">
          <label for="thirdColor">Background Color</label>
          <input 
            type="color" 
            id="thirdColor" 
            name="thirdColor" 
            [(ngModel)]="customTheme.thirdColor" 
            (ngModelChange)="updateCustomTheme()"
          >
          <span class="color-value">{{ customTheme.thirdColor }}</span>
        </div>

        <div class="color-input">
          <label for="altColor">Text Color</label>
          <input 
            type="color" 
            id="altColor" 
            name="altColor" 
            [(ngModel)]="customTheme.altColor" 
            (ngModelChange)="updateCustomTheme()"
          >
          <span class="color-value">{{ customTheme.altColor }}</span>
        </div>
      </div>
    </div>

    <div class="font-section">
      <h3>Typography</h3>
      <div class="font-input">
        <label for="fontFamily">Font Family</label>
        <select 
          id="fontFamily" 
          name="fontFamily" 
          class="font-select" 
          [(ngModel)]="customTheme.mainFontFam"
          (ngModelChange)="updateCustomTheme()"
        >
          <option value="sans-serif">Sans Serif</option>
          <option value="serif">Serif</option>
          <option value="monospace">Monospace</option>
          <option value="'Roboto', sans-serif">Roboto</option>
          <option value="'Open Sans', sans-serif">Open Sans</option>
          <option value="'Lato', sans-serif">Lato</option>
        </select>
      </div>
    </div>
  </div>

  <!-- Save Button (only visible when not in inline mode) -->
  <div class="actions" *ngIf="!inlineMode">
    <button class="standard-button primary" (click)="saveTheme()">Save Theme</button>
  </div>
</div>

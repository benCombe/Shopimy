<main id="store-container" class="store-layout">
  <app-store-nav (ViewChanged)="changeView($event)" aria-label="Store navigation"></app-store-nav>
  
  <div id="store-page" class="store-content" *ngIf="isStorePageView()">

    <!-- Hero Banner Section -->
    <app-hero-banner 
      *ngIf="storeData?.componentVisibility?.hero" 
      [storeData]="storeData">
    </app-hero-banner>

    <!-- Store Header/Logo Section -->
    <app-store-header 
      *ngIf="storeData?.componentVisibility?.header" 
      [storeData]="storeData">
    </app-store-header>

    <!-- Featured Products Section -->
    <app-featured-products 
      *ngIf="storeData?.componentVisibility?.featured" 
      [storeData]="storeData"
      [isPreview]="false">
    </app-featured-products>

    <!-- Testimonials Section -->
    <app-testimonials 
      *ngIf="storeData?.componentVisibility?.testimonials" 
      [storeData]="storeData">
    </app-testimonials>

    <!-- Newsletter Section -->
    <app-newsletter 
      *ngIf="storeData?.componentVisibility?.newsletter" 
      [storeData]="storeData">
    </app-newsletter>

    <!-- Footer Section -->
    <app-store-footer 
      *ngIf="storeData?.componentVisibility?.footer" 
      [storeData]="storeData">
    </app-store-footer>
  </div>
  
  <!-- Other Views -->
  <app-shopping-cart *ngIf="isCartView()" [storeDetails]="storeData"></app-shopping-cart>
  <app-checkout *ngIf="isCheckoutView()"></app-checkout>
  <app-item-detail *ngIf="isItemView()" [storeDetails]="storeData" [itemId]="currentItemView"></app-item-detail>
  <!-- The category page is loaded if the url is "shopimy.com/[storeurl]/[category-name]" -->
  <ng-container *ngFor="let c of storeData?.categories">
    <app-category-page *ngIf="isCategoryView(c.name) && storeData?.componentVisibility?.categories" 
                      [category]="c" 
                      [storeDetails]="storeData">
    </app-category-page>
  </ng-container>
</main>

<div id="container">
  <app-store-nav  (ViewChanged)="changeView($event)"></app-store-nav>
  <div id="store-page" [style.background-color]="storeData?.theme_3" *ngIf="currentView === 'store-page'" [ngStyle]="{ 'height': storePageHeight + 'vh' }">
      <div id="banner" class="theme2" [style.background-image]="'url(' + storeData?.bannerURL + ')'" *ngIf="storeData?.componentVisibility?.hero">
        <div id="banner-text" class="center theme1 fc" [style.background-color]="storeData?.theme_1">
          <span [style.color]="storeData?.fontColor">{{storeData?.bannerText}}</span>
        </div>
      </div>
      <div id="logo-section" class="center" *ngIf="storeData?.componentVisibility?.header">
        <div id="logo-container" class="theme1 fc" [style.background-color]="storeData?.theme_1">
          <div id="logo-wrapper">
            <img id="logo" [src]="storeData?.logoURL" alt="store-logo">
          </div>
          <div id="logo-text-wrapper" class="center">
            <h2 id="logo-text" [style.color]="storeData?.fontColor">{{storeData?.logoText}}</h2>
          </div>
        </div>
      </div>
      <div id="product-container" *ngIf="storeData?.componentVisibility?.featured">
        <app-item-card *ngFor="let item of itemIds.slice(0, displayCount)" [itemId]="item"></app-item-card>
      </div>
      <div id="load-more-wrapper" class="center" *ngIf="displayCount < itemIds.length && storeData?.componentVisibility?.featured"><span id="load-more-btn" class="center" (click)="loadMore()">Load More</span></div>

      <div id="testimonials-section" *ngIf="storeData?.componentVisibility?.testimonials" 
           [style.background-color]="storeData?.theme_3">
        <h3>Testimonials</h3>
        <div class="testimonial">
          <p class="testimonial-text">"This store is amazing! Great products and service."</p>
          <p class="testimonial-author">- Happy Customer</p>
        </div>
      </div>

      <div id="newsletter-section" *ngIf="storeData?.componentVisibility?.newsletter"
           [style.background-color]="storeData?.theme_1">
        <h3 [style.color]="storeData?.fontColor">Subscribe to Our Newsletter</h3>
        <div class="newsletter-form">
          <input type="email" placeholder="Enter your email">
          <button [style.background-color]="storeData?.theme_2">Subscribe</button>
        </div>
      </div>

      <div id="footer-section" *ngIf="storeData?.componentVisibility?.footer"
           [style.background-color]="storeData?.theme_1">
        <p [style.color]="storeData?.fontColor">
          &copy; {{ storeData?.name || 'Store Name' }}. All rights reserved.
        </p>
      </div>
  </div>
  <app-shopping-cart *ngIf="currentView === 'cart'" [storeDetails]="storeData"></app-shopping-cart>
  <app-checkout *ngIf="currentView === 'checkout'"></app-checkout>
  <ng-container *ngFor="let c of storeData?.categories">
    <app-category-page *ngIf="currentView === c.name && storeData?.componentVisibility?.categories" [category]="c" [storeDetails]="storeData"></app-category-page>
  </ng-container>
</div>
